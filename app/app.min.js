function escapeJSONString(e,t){return typeof t=="string"?t.replace(/[^ -~\b\t\n\f\r"\\]/g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}):t}function JSONStringify(e){return JSON.stringify(e,escapeJSONString).replace(/\\\\u([\da-f]{4}?)/g,"\\u$1")}var http=require("http"),https=require("https"),request=require("request"),express=require("express"),mongo=require("mongodb"),Redmine=require("Redmine"),exphbs=require("../"),hbsHelpers=require("./hbs_helpers"),app=express(),port=3e3,hbs=exphbs.create({defaultLayout:"main",helpers:hbsHelpers,extname:".hbs",partialsDir:"views/_partials/",layoutsDir:"views/_layouts/"});app.engine("hbs",hbs.engine);app.set("view engine","hbs");app.get("/issue",function(e,t){var n="3ca22d5c3a4cc0d1281689b76f66e15553531cb0",r=1600,i="https://popart.plan.io",s={uri:i+"/issues/"+r+".json?include=journals",json:!0,headers:{"X-Redmine-API-Key":n}};request(s.uri,s,function(e,n,r){!e&&n.statusCode==200?t.end(r):console.log(n)})});app.get("/sites",function(e,t){request("http://www.google.com",function(e,n,r){if(!e&&n.statusCode==200){console.log(r);t.end(r)}})});app.use(express.static("public"));app.listen(port);console.log("Listening on port "+port+"....");